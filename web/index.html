<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blockchain Gaming Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container-fluid">
        <!-- Header -->
        <nav class="navbar navbar-dark bg-dark mb-4">
            <div class="container">
                <span class="navbar-brand mb-0 h1">
                    <i class="fas fa-gamepad"></i>
                    Blockchain Gaming Platform
                </span>
                <div class="navbar-text">
                    <span id="walletStatus" class="badge bg-secondary">Wallet Not Connected</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="container">
            <!-- Wallet Connection -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-wallet"></i> Wallet Connection</h5>
                        </div>
                        <div class="card-body">
                            <button id="connectWallet" class="btn btn-primary">
                                <i class="fas fa-link"></i> Connect Wallet
                            </button>
                            <div id="walletInfo" class="mt-3" style="display: none;">
                                <p><strong>Address:</strong> <span id="walletAddress"></span></p>
                                <p><strong>GT Balance:</strong> <span id="gtBalance">0</span> GT</p>
                                <button id="refreshBalance" class="btn btn-sm btn-outline-secondary">
                                    <i class="fas fa-sync-alt"></i> Refresh
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <!-- Buy GT Tokens -->
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-coins"></i> Buy GameTokens (GT)</h5>
                        </div>
                        <div class="card-body">
                            <form id="buyTokensForm">
                                <div class="mb-3">
                                    <label for="usdtAmount" class="form-label">USDT Amount</label>
                                    <div class="input-group">
                                        <input type="number" class="form-control" id="usdtAmount" 
                                               placeholder="Enter USDT amount" min="0" step="0.000001">
                                        <span class="input-group-text">USDT</span>
                                    </div>
                                    <div class="form-text">1 USDT = 1 GT (plus gas fees)</div>
                                </div>
                                <button type="submit" class="btn btn-success">
                                    <i class="fas fa-shopping-cart"></i> Buy GT Tokens
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Create/Join Match -->
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-trophy"></i> Match Management</h5>
                        </div>
                        <div class="card-body">
                            <form id="createMatchForm">
                                <div class="mb-3">
                                    <label for="matchId" class="form-label">Match ID</label>
                                    <input type="text" class="form-control" id="matchId" 
                                           placeholder="Enter unique match ID" required>
                                </div>
                                <div class="mb-3">
                                    <label for="player1" class="form-label">Player 1 Address</label>
                                    <input type="text" class="form-control" id="player1" 
                                           placeholder="0x..." required>
                                </div>
                                <div class="mb-3">
                                    <label for="player2" class="form-label">Player 2 Address</label>
                                    <input type="text" class="form-control" id="player2" 
                                           placeholder="0x..." required>
                                </div>
                                <div class="mb-3">
                                    <label for="stakeAmount" class="form-label">Stake Amount (GT)</label>
                                    <input type="number" class="form-control" id="stakeAmount" 
                                           placeholder="Enter stake amount" min="0" step="0.001" required>
                                </div>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-plus"></i> Create Match
                                </button>
                            </form>

                            <hr>

                            <form id="stakeMatchForm">
                                <div class="mb-3">
                                    <label for="stakeMatchId" class="form-label">Stake in Match</label>
                                    <input type="text" class="form-control" id="stakeMatchId" 
                                           placeholder="Match ID to stake in" required>
                                </div>
                                <button type="submit" class="btn btn-warning">
                                    <i class="fas fa-coins"></i> Stake GT
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <!-- Submit Match Result -->
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-flag-checkered"></i> Submit Match Result</h5>
                        </div>
                        <div class="card-body">
                            <form id="submitResultForm">
                                <div class="mb-3">
                                    <label for="resultMatchId" class="form-label">Match ID</label>
                                    <input type="text" class="form-control" id="resultMatchId" 
                                           placeholder="Enter match ID" required>
                                </div>
                                <div class="mb-3">
                                    <label for="winner" class="form-label">Winner Address</label>
                                    <input type="text" class="form-control" id="winner" 
                                           placeholder="0x..." required>
                                </div>
                                <button type="submit" class="btn btn-danger">
                                    <i class="fas fa-crown"></i> Submit Result
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Match Query -->
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-search"></i> Match Details</h5>
                        </div>
                        <div class="card-body">
                            <form id="queryMatchForm">
                                <div class="mb-3">
                                    <label for="queryMatchId" class="form-label">Match ID</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="queryMatchId" 
                                               placeholder="Enter match ID">
                                        <button type="submit" class="btn btn-outline-secondary">
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                </div>
                            </form>
                            <div id="matchDetails" style="display: none;">
                                <div class="card mt-3">
                                    <div class="card-body">
                                        <h6>Match Information</h6>
                                        <p><strong>Status:</strong> <span id="matchStatus"></span></p>
                                        <p><strong>Player 1:</strong> <span id="matchPlayer1"></span></p>
                                        <p><strong>Player 2:</strong> <span id="matchPlayer2"></span></p>
                                        <p><strong>Stake:</strong> <span id="matchStake"></span> GT</p>
                                        <p><strong>P1 Staked:</strong> <span id="matchP1Staked"></span></p>
                                        <p><strong>P2 Staked:</strong> <span id="matchP2Staked"></span></p>
                                        <p><strong>Winner:</strong> <span id="matchWinner"></span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Events -->
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h5><i class="fas fa-history"></i> Recent Events</h5>
                            <button id="refreshEvents" class="btn btn-sm btn-outline-secondary">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="eventsList">
                                <p class="text-muted">No recent events</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Leaderboard -->
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h5><i class="fas fa-trophy"></i> Leaderboard</h5>
                            <button id="refreshLeaderboard" class="btn btn-sm btn-outline-secondary">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="leaderboardList">
                                <p class="text-muted">Loading leaderboard...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto" id="toastTitle">Notification</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="toastBody">
                Message here
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
